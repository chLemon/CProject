#include <stdio.h>
#include <ctype.h>
#include <string.h>
#include <math.h>
#include <stdlib.h>

int jumpchange(int jump, char pre, char cur)
{
  //0不跳过 1字符常量 2字符串常量 3单行注释 4多行注释
  //先写从0到各个情况
  if (jump == 0)
  {
    if (pre == -1) //判断1和2即可，34都需要2个字符来确定
    {
      if (cur == '#')
        return 1;
      if (cur == '"')
        return 2;
    }
    else
    {
      if (cur == '#')
        return 1;
      if (cur == '"')
        return 2;
      if (pre == '/' && cur == '/')
        return 3;
      if (pre == '/' && cur == '*')
        return 4;
    }
  }
  else // jump不为0的情况，需要根据情况判断是否可以变回0
  {
    if (pre != -1)
    {
      //pre为-1的情况，如果jump不为0，只可能是多行注释的情况，跳过当前字符即可，在下一个字符处判断
      if (jump == 1 || jump == 3) //1和3不会改变
        return jump;
      if ((jump == 2 && cur == '"') || (jump == 4 && pre == '*' && cur == '/')) // 2和4可能改变
        return 0;
    }
  }
  return jump;
}

int main(int argc, char const *argv[])
{

  int jump = 0;
  jump = jumpchange(jump, -1, '\n');
  printf("%d", jump);
  return 0;
}